{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.css?9430","webpack:///./src/app.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/lib/canvasGameEngine.js","webpack:///./src/lib/Keys.js","webpack:///./src/lib/Vector.js","webpack:///./src/Particle.js","webpack:///./src/Explosion.js","webpack:///./src/Ship.js","webpack:///./src/Cell.js","webpack:///./src/Maze.js","webpack:///./src/Portal.js","webpack:///./src/lib/Utils.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","content","options","hmr","transform","insertInto","undefined","locals","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getElement","target","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","canvasGameEngine","w","h","_classCallCheck","canvas","getElementById","width","height","ctx","getContext","title","setup","oldTime","requestAnimationFrame","_loop","time","elapsed","loop","Keys","debug","Keys_classCallCheck","keyDownActions","keyUpActions","addKeysListeners","addEventListener","onKeyDown","onKeyUp","keyCode","downFn","upFn","addKeyDownAction","addKeyUpAction","console","log","Vector","x","y","Vector_classCallCheck","angle","Math","cos","sin","other","hypot","a","mag","currentMag","setMag","sqrt","atan2","Particle","initialSpeed","damping","size","color","Particle_classCallCheck","pos","initPos","vel","fromAngle","rota","random","PI","rotaOffset","add","mult","fillStyle","save","translate","rotate","fillRect","restore","Explosion","speed","cb","Explosion_classCallCheck","particles","setTimeout","draw","Ship","radius","Ship_classCallCheck","initialPos","acceleration","shipAngleOffset","boost","explosion","offset","boostPower","enteringPortal","deltaTime","newAngle","constrain","max","movmentDir","portal","portalCb","portalPos","clone","subtract","_drawShip","_drawBoost","beginPath","ellipse","fill","closePath","strokeStyle","lineWidth","stroke","scale","moveTo","lineTo","Cell","cellW","cellH","Cell_classCallCheck","wallWidth","walls","visited","ship","_ship$pos","cellX","cellY","_drawWall","b","Maze","cols","rows","Maze_classCallCheck","grid","stack","longestStack","furthestCellCoords","cell","current","mazeDone","nextBuildStep","_this$current","neighbors","top","right","bottom","left","floor","next","checkNeighbors","removeWalls","pop","collides","Portal","isLastLevel","Portal_classCallCheck","innerRadius","strokeWidth","isColliding","distance","num","origMin","origMax","tgtMin","tgtMax","performance","now","gradient","createRadialGradient","addColorStop","OPTIONS","GAME_IS","keyboard","_this","level","gameState","newLevel","addKeysAction","startTurning","stopTurning","startBoost","stopBoost","resetPos","ceil","maze","portalX","portalY","minCellDim","min","elapsedTime","_this2","text","textAlign","fillText","edges","collisionWithWall","arrived","explode","enterPortal","font","textBaseline","start"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./app.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./app.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./app.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"body {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\ncanvas {\\r\\n  margin: 50px;\\r\\n}\\r\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","export default class canvasGameEngine {\r\n  constructor (id, name, w, h) {\r\n    this.name = name\r\n    this.canvas = document.getElementById(id)\r\n\r\n    this.canvas.width = w\r\n    this.canvas.height = h\r\n\r\n    this.w = w\r\n    this.h = h\r\n\r\n    this.ctx = this.canvas.getContext('2d')\r\n\r\n    window.document.title = name\r\n    this.setup()\r\n\r\n    this.oldTime = 0\r\n  }\r\n\r\n  start () {\r\n    requestAnimationFrame(this._loop.bind(this))\r\n  }\r\n\r\n  setup () {\r\n  }\r\n\r\n  _loop (time) {\r\n    const elapsed = time - this.oldTime\r\n    this.loop(elapsed)\r\n\r\n    this.oldTime = time\r\n    requestAnimationFrame(this._loop.bind(this))\r\n  }\r\n\r\n  loop (time) {\r\n    // do nothing, will be overwritten\r\n  }\r\n}\r\n","export default class Keys {\r\n  constructor (debug) {\r\n    this.debug = debug\r\n    this.keyDownActions = {}\r\n    this.keyUpActions = {}\r\n    this.addKeysListeners()\r\n  }\r\n\r\n  addKeysListeners () {\r\n    window.addEventListener('keydown', this.onKeyDown.bind(this))\r\n    window.addEventListener('keyup', this.onKeyUp.bind(this))\r\n  }\r\n\r\n  addKeyDownAction (keyCode, fn) {\r\n    this.keyDownActions[keyCode] = fn\r\n  }\r\n\r\n  addKeyUpAction (keyCode, fn) {\r\n    this.keyUpActions[keyCode] = fn\r\n  }\r\n\r\n  addKeysAction (keyCode, downFn, upFn) {\r\n    this.addKeyDownAction(keyCode, downFn)\r\n    this.addKeyUpAction(keyCode, upFn)\r\n  }\r\n\r\n  onKeyDown (e) {\r\n    if (this.debug) console.log('KEYDOWN', e.keyCode)\r\n    if (this.keyDownActions[e.keyCode] !== undefined) {\r\n      this.keyDownActions[e.keyCode]()\r\n    }\r\n  }\r\n\r\n  onKeyUp (e) {\r\n    if (this.keyUpActions[e.keyCode] !== undefined) {\r\n      this.keyUpActions[e.keyCode]()\r\n    }\r\n  }\r\n}\r\n","export default class Vector {\r\n  constructor (x, y) {\r\n    this.x = x\r\n    this.y = y\r\n  }\r\n\r\n  static fromAngle (angle, length = 1) {\r\n    return new Vector(length * Math.cos(angle), length * Math.sin(angle))\r\n  }\r\n\r\n  clone () {\r\n    return new Vector(this.x, this.y)\r\n  }\r\n\r\n  get mag () {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y)\r\n  }\r\n  get angle () {\r\n    return Math.atan2(this.y, this.x)\r\n  }\r\n\r\n  distance (other) {\r\n    return Math.hypot(other.x - this.x, other.y - this.y)\r\n  }\r\n\r\n  add (other) {\r\n    this.x = this.x + other.x\r\n    this.y = this.y + other.y\r\n  }\r\n  subtract (other) {\r\n    this.x = this.x - other.x\r\n    this.y = this.y - other.y\r\n  }\r\n  mult (a) {\r\n    this.x = this.x * a\r\n    this.y = this.y * a\r\n  }\r\n  setMag (mag) {\r\n    const currentMag = this.mag\r\n    this.x = this.x * mag / currentMag\r\n    this.y = this.y * mag / currentMag\r\n  }\r\n\r\n  constrain (mag) {\r\n    if (this.mag > mag) {\r\n      this.setMag(mag)\r\n    }\r\n  }\r\n}\r\n","import Vector from './lib/Vector'\r\n\r\nexport default class Particle {\r\n  constructor (x, y, angle, initialSpeed, damping, size, color) {\r\n    this.pos = new Vector(x, y)\r\n    this.initPos = new Vector(x, y)\r\n\r\n    this.vel = Vector.fromAngle(angle, initialSpeed)\r\n    // console.log('this.vel', this.vel)\r\n    this.damping = damping\r\n\r\n    this.size = size\r\n    this.color = color\r\n\r\n    this.rota = Math.random() * 2 * Math.PI\r\n    this.rotaOffset = (Math.random() - 0.5) / 5\r\n  }\r\n\r\n  update () {\r\n    this.pos.add(this.vel)\r\n    this.vel.mult(this.damping)\r\n    this.rota += this.rotaOffset\r\n  }\r\n\r\n  draw (ctx) {\r\n    ctx.fillStyle = this.color\r\n    ctx.save()\r\n    ctx.translate(this.pos.x, this.pos.y)\r\n    ctx.rotate(this.rota)\r\n    ctx.fillRect(-this.size / 2, -this.size, this.size, this.size * 2)\r\n    ctx.restore()\r\n  }\r\n}\r\n","import Particle from './Particle'\r\n\r\n// starts a particle system in the shape of an explosion\r\nexport default class Explosion {\r\n  constructor (x, y, angle, speed, size, cb) {\r\n    this.particles = []\r\n    for (let i = 0; i < 10; i++) {\r\n      const a = angle + ((Math.random() - 0.5))\r\n      const s = speed + (Math.random() - 0.5)\r\n      const damping = 0.95\r\n      const color = i === 0 ? '#0FF' : '#999'\r\n      this.particles[i] = new Particle(x, y, a, s, damping, size / 2, color)\r\n    }\r\n\r\n    setTimeout(cb, 500)\r\n  }\r\n\r\n  draw (ctx) {\r\n    for (let i = 0; i < this.particles.length; i++) {\r\n      const p = this.particles[i]\r\n      p.update()\r\n      p.draw(ctx)\r\n    }\r\n  }\r\n}\r\n","import Vector from './lib/Vector'\r\nimport Explosion from './Explosion'\r\n\r\nexport default class Ship {\r\n  constructor (x, y, radius) {\r\n    this.r = radius\r\n\r\n    this.initialPos = new Vector(x, y)\r\n    this.acceleration = new Vector(0, 0)\r\n    this.pos = new Vector(x, y)\r\n    this.vel = new Vector(0, 0)\r\n\r\n    this.angle = 0\r\n    this.shipAngleOffset = 0\r\n\r\n    this.boost = 0\r\n\r\n    this.explosion = null\r\n  }\r\n\r\n  startTurning (offset) { this.shipAngleOffset = offset }\r\n  stopTurning () { this.shipAngleOffset = 0 }\r\n  startBoost (boostPower) { this.boost = boostPower }\r\n  stopBoost () { this.boost = 0 }\r\n\r\n  resetPos () {\r\n    // if (!this.explosion) return // no reset of the ship while it's not exploding\r\n\r\n    this.explosion = null\r\n    this.pos = new Vector(this.initialPos.x, this.initialPos.y)\r\n    this.vel = new Vector(0, 0)\r\n    this.angle = 0\r\n    this.shipAngleOffset = 0\r\n\r\n    this.boost = 0\r\n    this.enteringPortal = false\r\n\r\n    this.acceleration = new Vector(0, 0)\r\n  }\r\n\r\n  update (deltaTime) {\r\n    if (this.explosion) return\r\n\r\n    // update operation\r\n    // this.pos = position du vaisseau\r\n    // acceleration : ajout  la vlocit, doit etre proportionnel  deltatime\r\n    // this.vel: vitesse\r\n    //    * ajout  chaque frame (si framerate 60, doit etre 3x inf  framerate 20 ...)\r\n    //    * constraint  une vitesse max, si framerate\r\n    //\r\n\r\n    const newAngle = this.angle + this.shipAngleOffset * 0.001 * deltaTime\r\n    this.angle = newAngle\r\n\r\n    if (this.boost > 0 && !this.enteringPortal) {\r\n      this.acceleration = Vector.fromAngle(this.angle, this.boost * 0.001 * deltaTime)\r\n    } else {\r\n      this.acceleration = new Vector(0, 0)\r\n    }\r\n    this.vel.add(this.acceleration)\r\n    this.vel.constrain(0.2 * deltaTime)\r\n    this.pos.add(this.vel)\r\n\r\n    if (this.enteringPortal) {\r\n      this.r -= 0.1\r\n      this.r = Math.max(this.r, 0.1)\r\n    }\r\n  }\r\n\r\n  edges (w, h) {\r\n    if (this.pos.x > w + this.r) this.pos.x = 0\r\n    if (this.pos.y > h + this.r) this.pos.y = 0\r\n    if (this.pos.x < -this.r) this.pos.x = w + this.r\r\n    if (this.pos.y < -this.r + this.r) this.pos.y = h + this.r\r\n  }\r\n\r\n  explode (cb) {\r\n    if (!this.explosion) {\r\n      const movmentDir = this.vel.angle\r\n\r\n      const speed = this.vel.mag\r\n      this.explosion = new Explosion(this.pos.x, this.pos.y, movmentDir, speed, this.r, cb)\r\n    }\r\n  }\r\n\r\n  enterPortal (portal, cb) {\r\n    if (this.enteringPortal) return\r\n\r\n    this.enteringPortal = true\r\n    this.portalCb = cb\r\n    this.portalPos = portal.pos\r\n\r\n    const p = this.pos.clone()\r\n    p.subtract(portal.pos)\r\n    p.mult(-1)\r\n    p.setMag(1)\r\n    this.vel = p\r\n\r\n    setTimeout(cb, 500)\r\n  }\r\n\r\n  draw (ctx) {\r\n    if (this.explosion) {\r\n      this.explosion.draw(ctx)\r\n    } else {\r\n      this._drawShip(ctx, this.pos.x, this.pos.y)\r\n      this._drawBoost(ctx, this.pos.x, this.pos.y, 2, '#ff860d')\r\n    }\r\n  }\r\n\r\n  _drawShip (ctx, x, y) {\r\n    ctx.save()\r\n    ctx.fillStyle = '#999'\r\n    ctx.translate(x, y)\r\n    ctx.rotate(this.angle)\r\n    ctx.beginPath()\r\n    ctx.ellipse(0, 0, this.r, this.r, 0, 0, Math.PI * 2)\r\n    ctx.fill()\r\n    ctx.closePath()\r\n\r\n    ctx.beginPath()\r\n    ctx.strokeStyle = '#0FF'\r\n    ctx.lineWidth = this.r / 4\r\n    const r = this.r * 0.5\r\n    ctx.ellipse(0, 0, r, r, 0, -Math.PI / 4, Math.PI / 4)\r\n\r\n    ctx.stroke()\r\n    ctx.closePath()\r\n    ctx.restore()\r\n  }\r\n\r\n  _drawBoost (ctx, x, y, scale, color) {\r\n    if (this.boost === 0) return\r\n\r\n    ctx.save()\r\n    ctx.translate(x, y)\r\n    ctx.rotate(this.angle)\r\n    ctx.fillStyle = color\r\n    ctx.beginPath()\r\n    ctx.moveTo(-this.r, -this.r / 4 * scale)\r\n    ctx.lineTo(-this.r - this.r / 1.5 * scale, 0)\r\n    ctx.lineTo(-this.r, this.r / 4 * scale)\r\n    ctx.closePath()\r\n    ctx.fill()\r\n    ctx.restore()\r\n  }\r\n}\r\n","export default class Cell {\r\n  constructor (i, j, cellW, cellH, index) {\r\n    this.i = i\r\n    this.j = j\r\n    this.cellW = cellW\r\n    this.cellH = cellH\r\n    // this.size = size\r\n    this.wallWidth = 2\r\n\r\n    this.index = index\r\n\r\n    this.walls = {\r\n      n: true,\r\n      e: true,\r\n      s: true,\r\n      w: true\r\n    }\r\n    this.visited = false\r\n  }\r\n\r\n  collides (ship) {\r\n    const { x, y } = ship.pos\r\n    const r = ship.r\r\n    const cellX = this.i * this.cellW\r\n    const cellY = this.j * this.cellH\r\n\r\n    const shipInCell = (x + r > cellX && x - r < cellX + this.cellW) && (y + r > cellY && y - r < cellY + this.cellH)\r\n    if (!shipInCell) return false\r\n\r\n    return (\r\n      (this.walls.e && x + r > cellX + this.cellW) ||\r\n      (this.walls.w && x - r < cellX) ||\r\n      (this.walls.s && y + r > cellY + this.cellH) ||\r\n      (this.walls.n && y - r < cellY)\r\n    )\r\n  }\r\n\r\n  draw (ctx) {\r\n    const x = this.i * this.cellW\r\n    const y = this.j * this.cellH\r\n\r\n    ctx.strokeStyle = '#FFF'\r\n    ctx.lineWidth = this.wallWidth\r\n\r\n    if (this.walls.n) {\r\n      this._drawWall(ctx, x, y, x + this.cellW, y)\r\n    }\r\n    if (this.walls.e) {\r\n      this._drawWall(ctx, x + this.cellW, y, x + this.cellW, y + this.cellH)\r\n    }\r\n    if (this.walls.s) {\r\n      this._drawWall(ctx, x + this.cellW, y + this.cellH, x, y + this.cellH)\r\n    }\r\n    if (this.walls.w) {\r\n      this._drawWall(ctx, x, y + this.cellH, x, y)\r\n    }\r\n    // ctx.fillStyle = '#FFF'\r\n    // ctx.fillText(this.index, x + this.cellW / 2, y + this.cellH / 2)\r\n\r\n    // if (this.visited) {\r\n    //   ctx.fillStyle = 'rgba(255, 0, 255, 100)'\r\n    //   ctx.fillRect(x, y, this.size, this.size)\r\n    // }\r\n  }\r\n\r\n  _drawWall (ctx, a, b, c, d) {\r\n    ctx.beginPath()\r\n    ctx.moveTo(a, b)\r\n    ctx.lineTo(c, d)\r\n    ctx.stroke()\r\n    ctx.closePath()\r\n  }\r\n}\r\n","import Cell from './Cell.js'\r\n\r\nexport default class Maze {\r\n  constructor (cols, rows, cellW, cellH) {\r\n    this.cols = cols\r\n    this.rows = rows\r\n    this.cellW = cellW\r\n    this.cellH = cellH\r\n\r\n    this.grid = []\r\n    this.stack = []\r\n\r\n    this.longestStack = 0\r\n    this.furthestCellCoords = null\r\n\r\n    let index = 0\r\n    for (var j = 0; j < rows; j++) {\r\n      for (var i = 0; i < cols; i++) {\r\n        var cell = new Cell(i, j, cellW, cellH, index)\r\n        this.grid.push(cell)\r\n        index++\r\n      }\r\n    }\r\n\r\n    this.current = this.grid[0]\r\n    let mazeDone = false\r\n    while (!mazeDone) {\r\n      mazeDone = this.nextBuildStep()\r\n    }\r\n  }\r\n\r\n  checkNeighbors () {\r\n    const { i, j } = this.current\r\n    const neighbors = []\r\n\r\n    const top = this.grid[this.index(i, j - 1)]\r\n    const right = this.grid[this.index(i + 1, j)]\r\n    const bottom = this.grid[this.index(i, j + 1)]\r\n    const left = this.grid[this.index(i - 1, j)]\r\n\r\n    if (top && !top.visited) {\r\n      neighbors.push(top)\r\n    }\r\n    if (right && !right.visited) {\r\n      neighbors.push(right)\r\n    }\r\n    if (bottom && !bottom.visited) {\r\n      neighbors.push(bottom)\r\n    }\r\n    if (left && !left.visited) {\r\n      neighbors.push(left)\r\n    }\r\n\r\n    if (neighbors.length > 0) {\r\n      const r = Math.floor(Math.random() * neighbors.length)\r\n      return neighbors[r]\r\n    } else {\r\n      return undefined\r\n    }\r\n  }\r\n\r\n  index (i, j) {\r\n    if (i < 0 || j < 0 || i > this.cols - 1 || j > this.rows - 1) {\r\n      return -1\r\n    }\r\n    return i + j * this.cols\r\n  }\r\n\r\n  removeWalls (a, b) {\r\n    var x = a.i - b.i\r\n    if (x === 1) {\r\n      a.walls.w = false\r\n      b.walls.e = false\r\n    } else if (x === -1) {\r\n      a.walls.e = false\r\n      b.walls.w = false\r\n    }\r\n    var y = a.j - b.j\r\n    if (y === 1) {\r\n      a.walls.n = false\r\n      b.walls.s = false\r\n    } else if (y === -1) {\r\n      a.walls.s = false\r\n      b.walls.n = false\r\n    }\r\n  }\r\n\r\n  nextBuildStep () {\r\n    this.current.visited = true\r\n\r\n    // STEP 1\r\n    var next = this.checkNeighbors(this.current.i, this.current.j)\r\n    if (next) {\r\n      next.visited = true\r\n      // STEP 2\r\n      this.stack.push(this.current)\r\n\r\n      // STEP 3\r\n      this.removeWalls(this.current, next)\r\n      // STEP 4\r\n      this.current = next\r\n    } else if (this.stack.length > 0) {\r\n      if (this.stack.length > this.longestStack) {\r\n        this.longestStack = this.stack.length\r\n        this.furthestCellCoords = { i: this.current.i, j: this.current.j }\r\n      }\r\n      this.current = this.stack.pop()\r\n    }\r\n\r\n    return this.stack.length === 0\r\n  }\r\n\r\n  collides (ship) {\r\n    for (let i = 0; i < this.grid.length; i++) {\r\n      const collision = this.grid[i].collides(ship)\r\n      if (collision) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  draw (ctx) {\r\n    for (let i = 0; i < this.grid.length; i++) {\r\n      this.grid[i].draw(ctx)\r\n    }\r\n\r\n    // ctx.save()\r\n    // ctx.fillStyle = '#F00'\r\n    // ctx.beginPath()\r\n    // ctx.translate(this.furthestCellCoords.i * this.cellW, this.furthestCellCoords.j * this.cellH)\r\n    // ctx.ellipse(this.cellW / 2, this.cellH / 2, 10, 10, 0, 0, Math.PI * 2)\r\n    // ctx.fill()\r\n    // ctx.closePath()\r\n    // ctx.restore()\r\n  }\r\n}\r\n\r\n","import Vector from './lib/Vector'\r\nimport { map } from './lib/Utils'\r\n\r\nexport default class Portal {\r\n  constructor (x, y, radius, isLastLevel) {\r\n    this.pos = new Vector(x, y)\r\n\r\n    this.innerRadius = radius * 0.7\r\n    this.strokeWidth = radius - this.innerRadius\r\n    this.r = this.innerRadius + (this.strokeWidth / 2)\r\n\r\n    this.angle = 0\r\n    this.isColliding = false\r\n    this.isLastLevel = isLastLevel\r\n  }\r\n\r\n  collides (ship) {\r\n    const collides = (this.pos.distance(ship.pos) < this.innerRadius + ship.r)\r\n    if (collides) {\r\n      this.isColliding = ship.pos\r\n    } else {\r\n      this.isColliding = false\r\n    }\r\n    return collides\r\n  }\r\n\r\n  draw (ctx) {\r\n    ctx.strokeStyle = '#aaa'\r\n    ctx.lineWidth = this.strokeWidth\r\n\r\n    ctx.save()\r\n    ctx.translate(this.pos.x, this.pos.y)\r\n\r\n    const r = map(Math.sin(performance.now() / 500), -1, 1, 2, this.r - this.r / 2)\r\n    const gradient = ctx.createRadialGradient(0, 0, r, 0, 0, this.r)\r\n    gradient.addColorStop(0, this.isLastLevel ? '#ed7a7d' : '#a9f3fa')\r\n    gradient.addColorStop(1, this.isLastLevel ? '#bb2027' : '#0aaba7')\r\n    ctx.fillStyle = gradient\r\n\r\n    ctx.beginPath()\r\n    ctx.ellipse(0, 0, this.r, this.r, 0, 0, Math.PI * 2)\r\n    ctx.fill()\r\n    ctx.stroke()\r\n\r\n    ctx.restore()\r\n  }\r\n}\r\n","export function map (num, origMin, origMax, tgtMin, tgtMax) {\r\n  return (num - origMin) * (tgtMax - tgtMin) / (origMax - origMin) + tgtMin\r\n}\r\nexport function round (num, precision = 0) {\r\n  const mult = Math.pow(10, precision)\r\n\r\n  return Math.round(num * mult) / mult\r\n}\r\n\r\n","// TODO\r\n// dont use setTimeout for anims\r\n// stats between levels (time, nb of tries...)\r\n// procedural backgrounds or walls (nebulae, clouds, stars  ...)\r\n// procedural sounds\r\n// procedural light in front of the ship, cf https://www.youtube.com/watch?v=fc3nnG2CG8U\r\n\r\nimport './app.css'\r\n\r\nimport canvasGameEngine from './lib/canvasGameEngine'\r\nimport Keys from './lib/Keys'\r\n\r\nimport Ship from './Ship'\r\nimport Maze from './Maze'\r\nimport Portal from './Portal'\r\n\r\nconst OPTIONS = {\r\n  shipAngleOffset: 10, // speed of turning\r\n  shipBoostPower: 10, // the lower the harder\r\n  debug: false,\r\n  wallCollision: true,\r\n  portalCollision: true,\r\n  lastLevel: 8 // level 3 will be the last one\r\n}\r\n\r\nconst GAME_IS = {\r\n  UNSTARTED: 0,\r\n  RUNNING: 1,\r\n  PAUSED: 2,\r\n  FINISHED: 3,\r\n  LOST: 4\r\n}\r\n\r\nconst keyboard = new Keys(OPTIONS.debug)\r\n\r\nclass Mazesteroid extends canvasGameEngine {\r\n  setup () {\r\n    // game state\r\n    this.level = 1\r\n    this.gameState = GAME_IS.UNSTARTED\r\n    this.newLevel()\r\n\r\n    // game events\r\n    keyboard.addKeysAction(37, () => this.ship.startTurning(-OPTIONS.shipAngleOffset), () => this.ship.stopTurning())\r\n    keyboard.addKeysAction(39, () => this.ship.startTurning(OPTIONS.shipAngleOffset), () => this.ship.stopTurning())\r\n    keyboard.addKeysAction(38, () => {\r\n      if (this.gameState === GAME_IS.RUNNING) this.ship.startBoost(OPTIONS.shipBoostPower)\r\n    }, () => this.ship.stopBoost())\r\n    keyboard.addKeyDownAction(82, () => this.ship.resetPos())\r\n    keyboard.addKeyDownAction(32, () => {\r\n      // some logic\r\n      switch (this.gameState) {\r\n        case GAME_IS.UNSTARTED:\r\n          this.gameState = GAME_IS.RUNNING\r\n          break\r\n        case GAME_IS.RUNNING:\r\n          this.gameState = GAME_IS.PAUSED\r\n          break\r\n        case GAME_IS.PAUSED:\r\n          this.gameState = GAME_IS.RUNNING\r\n          break\r\n        case GAME_IS.FINISHED:\r\n        case GAME_IS.LOST:\r\n          this.gameState = GAME_IS.RUNNING\r\n          this.level = 1\r\n          this.newLevel()\r\n          break\r\n      }\r\n    })\r\n  }\r\n\r\n  newLevel () {\r\n    // maze grid size calculation\r\n    const cols = this.level + 2\r\n    const cellW = this.w / cols\r\n    let cellH = cellW\r\n    const rows = Math.ceil(this.h / cellH)\r\n    cellH = this.h / rows\r\n\r\n    this.maze = new Maze(cols, rows, cellW, cellH)\r\n\r\n    // portal initialization\r\n    const portalX = this.maze.furthestCellCoords.i * cellW + cellW / 2\r\n    const portalY = this.maze.furthestCellCoords.j * cellH + cellH / 2\r\n    const minCellDim = Math.min(cellW, cellH)\r\n\r\n    const isLastLevel = OPTIONS.lastLevel === this.level\r\n    this.portal = new Portal(portalX, portalY, minCellDim / 2.5, isLastLevel)\r\n\r\n    // ship initialization\r\n    this.ship = new Ship(cellW / 2, cellH / 2, 10) // always starts at top left\r\n  }\r\n\r\n  loop (elapsedTime) {\r\n    this.ctx.fillStyle = '#000'\r\n    this.ctx.fillRect(0, 0, this.w, this.h)\r\n\r\n    this.maze.draw(this.ctx)\r\n    this.portal.draw(this.ctx)\r\n    this.ship.draw(this.ctx)\r\n\r\n    const text = `Level: ${this.level}`\r\n    this.ctx.fillStyle = '#FFF'\r\n    this.ctx.textAlign = 'left'\r\n    this.ctx.fillText(text, 15, 15)\r\n\r\n    if (this.gameState === GAME_IS.RUNNING) {\r\n      this.ship.update(elapsedTime)\r\n      this.ship.edges(this.w, this.h)\r\n\r\n      const collisionWithWall = OPTIONS.wallCollision ? this.maze.collides(this.ship) : false\r\n      const arrived = OPTIONS.portalCollision ? this.portal.collides(this.ship) : false\r\n\r\n      // collision with walls\r\n      if (collisionWithWall) {\r\n        this.ship.explode(() => {\r\n          this.ship.resetPos()\r\n        })\r\n      }\r\n\r\n      if (arrived) {\r\n        this.ship.enterPortal(this.portal, () => {\r\n          if (this.level + 1 > OPTIONS.lastLevel) {\r\n            this.gameState = GAME_IS.FINISHED\r\n          } else {\r\n            this.gameState = GAME_IS.UNSTARTED\r\n            this.level += 1\r\n            this.newLevel()\r\n          }\r\n        })\r\n      }\r\n    } else {\r\n      this.ctx.fillStyle = '#FFF'\r\n      this.ctx.fillRect(0, this.h / 2 - 15, this.w, 30)\r\n      this.ctx.fillStyle = '#000'\r\n      this.ctx.font = '18px sans-serif'\r\n      this.ctx.textAlign = 'center'\r\n      this.ctx.textBaseline = 'middle'\r\n    }\r\n\r\n    if (this.gameState === GAME_IS.UNSTARTED) {\r\n      const text = `Appuyer sur \"espace\" pour commencer`\r\n      this.ctx.fillText(text, this.w / 2, this.h / 2)\r\n    } else if (this.gameState === GAME_IS.PAUSED) {\r\n      const text = `Appuyer sur \"espace\" pour reprendre`\r\n      this.ctx.fillText(text, this.w / 2, this.h / 2)\r\n    } else if (this.gameState === GAME_IS.FINISHED) {\r\n      const text = `Gagn ! Appuyer sur \"espace\" pour recommencer`\r\n      this.ctx.fillText(text, this.w / 2, this.h / 2)\r\n    } else if (this.gameState === GAME_IS.LOST) {\r\n      const text = `Perdu ! Appuyer sur \"espace\" pour recommencer`\r\n      this.ctx.fillText(text, this.w / 2, this.h / 2)\r\n    }\r\n  }\r\n}\r\n\r\n// make the game and start it\r\nnew Mazesteroid('canvas', 'Space Maze', 600, 300).start()\r\n"],"sourceRoot":""}